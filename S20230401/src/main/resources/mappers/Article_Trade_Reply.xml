<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.java501.S20230401.Article_Trade_ReplyMapper">

	<select id="JHDutchpayList" parameterType="Article_Trade_Reply" resultType="Article_Trade_Reply">
		SELECT a.art_id, a.brd_id,
			   c.comm_value, a.art_title, a.art_regdate, 
      		   a.art_tag1, a.art_tag2, a.art_tag3, a.art_tag4, a.art_tag5,
       		   t.trd_cost, 
       		   r.reg_name, 
       		   t.trd_max, 
       		   m.mem_image,
       		   m.mem_username, 
       		   t.trd_enddate, 
       		   a.art_good, a.art_bad, a.art_read
		FROM article a
		LEFT JOIN trade t ON a.trd_id = t.trd_id
		LEFT JOIN comm c ON t.trd_status = c.comm_id
		LEFT JOIN region r ON t.trd_loc = r.reg_id
		LEFT JOIN member m ON a.mem_id = m.mem_id
		WHERE a.brd_id between 1100 and 1200
	</select>
	
	<select id="JHDutchpayFoodList" resultType="Article_Trade_Reply">
		SELECT a.art_id, a.brd_id,
			   c.comm_value, a.art_title, a.art_regdate, 
      		   a.art_tag1, a.art_tag2, a.art_tag3, a.art_tag4, a.art_tag5,
       		   t.trd_cost, 
       		   r.reg_name, 
       		   t.trd_max, 
       		   m.mem_image,
       		   m.mem_username, 
       		   t.trd_enddate, 
       		   a.art_good, a.art_bad, a.art_read
		FROM article a
		LEFT JOIN trade t ON a.trd_id = t.trd_id
		LEFT JOIN comm c ON t.trd_status = c.comm_id
		LEFT JOIN region r ON t.trd_loc = r.reg_id
		LEFT JOIN member m ON a.mem_id = m.mem_id
		WHERE a.brd_id = 1110
	</select>
	
	<select id="JHDutchpayClothesList"  resultType="Article_Trade_Reply">
		SELECT a.art_id, a.brd_id,
			   c.comm_value, a.art_title, a.art_regdate, 
      		   a.art_tag1, a.art_tag2, a.art_tag3, a.art_tag4, a.art_tag5,
       		   t.trd_cost, 
       		   r.reg_name, 
       		   t.trd_max, 
       		   m.mem_image,
       		   m.mem_username, 
       		   t.trd_enddate, 
       		   a.art_good, a.art_bad, a.art_read
		FROM article a
		LEFT JOIN trade t ON a.trd_id = t.trd_id
		LEFT JOIN comm c ON t.trd_status = c.comm_id
		LEFT JOIN region r ON t.trd_loc = r.reg_id
		LEFT JOIN member m ON a.mem_id = m.mem_id
		WHERE a.brd_id = 1120
	</select>
	
	<select id="JHDutchpayHouseStuffList"  resultType="Article_Trade_Reply">
		SELECT a.art_id, a.brd_id,
			   c.comm_value, a.art_title, a.art_regdate, 
      		   a.art_tag1, a.art_tag2, a.art_tag3, a.art_tag4, a.art_tag5,
       		   t.trd_cost, 
       		   r.reg_name, 
       		   t.trd_max, 
       		   m.mem_image,
       		   m.mem_username, 
       		   t.trd_enddate, 
       		   a.art_good, a.art_bad, a.art_read
		FROM article a
		LEFT JOIN trade t ON a.trd_id = t.trd_id
		LEFT JOIN comm c ON t.trd_status = c.comm_id
		LEFT JOIN region r ON t.trd_loc = r.reg_id
		LEFT JOIN member m ON a.mem_id = m.mem_id
		WHERE a.brd_id = 1130
	</select>
	
	<select id="JHDutchpayOverseasList"  resultType="Article_Trade_Reply">
		SELECT a.art_id, a.brd_id,
			   c.comm_value, a.art_title, a.art_regdate, 
      		   a.art_tag1, a.art_tag2, a.art_tag3, a.art_tag4, a.art_tag5,
       		   t.trd_cost, 
       		   r.reg_name, 
       		   t.trd_max, 
       		   m.mem_image,
       		   m.mem_username, 
       		   t.trd_enddate, 
       		   a.art_good, a.art_bad, a.art_read
		FROM article a
		LEFT JOIN trade t ON a.trd_id = t.trd_id
		LEFT JOIN comm c ON t.trd_status = c.comm_id
		LEFT JOIN region r ON t.trd_loc = r.reg_id
		LEFT JOIN member m ON a.mem_id = m.mem_id
		WHERE a.brd_id = 1140
	</select>
	
	<select id="JHDutchpayEtcList"  resultType="Article_Trade_Reply">
		SELECT a.art_id, a.brd_id,
			   c.comm_value, a.art_title, a.art_regdate, 
      		   a.art_tag1, a.art_tag2, a.art_tag3, a.art_tag4, a.art_tag5,
       		   t.trd_cost, 
       		   r.reg_name, 
       		   t.trd_max, 
       		   m.mem_image,
       		   m.mem_username, 
       		   t.trd_enddate, 
       		   a.art_good, a.art_bad, a.art_read
		FROM article a
		LEFT JOIN trade t ON a.trd_id = t.trd_id
		LEFT JOIN comm c ON t.trd_status = c.comm_id
		LEFT JOIN region r ON t.trd_loc = r.reg_id
		LEFT JOIN member m ON a.mem_id = m.mem_id
		WHERE a.brd_id = 1150
	</select>
	
	<select id="JHDutchpayDetail" parameterType="Article_Trade_Reply" resultType="Article_Trade_Reply">
		SELECT a.art_id, a.brd_id,
			   m.mem_image, m.mem_username,
       		   c.comm_value, a.art_title, a.art_regdate, 
       		   a.art_tag1, a.art_tag2, a.art_tag3, a.art_tag4, a.art_tag5,
      		   t.trd_cost,
      		   t.trd_max,
       		   r.reg_name, 
       		   t.trd_enddate , a.art_good, a.art_bad, a.art_read
		FROM article a
		LEFT JOIN trade t  ON a.trd_id = t.trd_id
		LEFT JOIN comm c   ON t.trd_status = c.comm_id
		LEFT JOIN region r ON t.trd_loc = r.reg_id
		LEFT JOIN member m ON a.mem_id = m.mem_id
		WHERE a.brd_id=#{brd_id} and a.art_id=#{art_id}
	</select>
	
	<select id="JHInsert" parameterType="Article_Trade_Reply" statementType="CALLABLE">
		{
			CALL insert_form(
				401,
				#{brd_id, 			mode=IN,  jdbcType=NUMERIC},
				#{art_title, 		mode=IN,  jdbcType=VARCHAR},
				#{art_regdate, 		mode=IN,  jdbcType=DATE},
				#{trd_enddate, 		mode=IN,  jdbcType=DATE},
				#{art_tag1, 		mode=IN,  jdbcType=VARCHAR},
				#{art_tag2, 		mode=IN,  jdbcType=VARCHAR},
				#{art_tag3, 		mode=IN,  jdbcType=VARCHAR},
				#{art_tag4, 		mode=IN,  jdbcType=VARCHAR},
				#{art_tag5, 		mode=IN,  jdbcType=VARCHAR},
				#{trd_max, 			mode=IN,  jdbcType=NUMERIC},
				#{trd_cost, 		mode=IN,  jdbcType=NUMERIC},
				#{trd_loc, 			mode=IN,  jdbcType=NUMERIC},
				#{art_content, 		mode=IN,  jdbcType=CLOB}
			)
		}
	</select>
	
	<select id="JHUpdateForm" parameterType="Article_Trade_Reply" resultType="Article_Trade_Reply">
		SELECT a.art_id, a.brd_id,
			   m.mem_image, m.mem_username,
			   a.art_regdate,
			   a.art_title,
       		   a.art_tag1, a.art_tag2, a.art_tag3, a.art_tag4, a.art_tag5,
      		   t.trd_cost,
      		   t.trd_max,
       		   a.art_content
		FROM article a
		LEFT JOIN trade t  ON a.trd_id = t.trd_id
		LEFT JOIN member m ON a.mem_id = m.mem_id
		WHERE a.brd_id=#{brd_id} and a.art_id=#{art_id}

	</select>
	

</mapper>

