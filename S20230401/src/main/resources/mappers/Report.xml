<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.java501.S20230401.model.ReportMapper">

	<!-- 양동균 -->
	<insert id="dgShareReport" parameterType="Report">
		INSERT	INTO
		REPORT	(REPORT_ID, MEM_ID, REPORT_CONTENT, REPORT_DATE, REPORT_STATUS)
		VALUES  (
				<choose>
					<when test="report_id != null">
						#{report_id},
					</when>
					<otherwise>
						(SELECT MAX(REPORT_ID)+1 FROM REPORT),
					</otherwise>
				</choose>
				#{mem_id},
				#{report_content},
				SYSDATE,
				#{report_status})
		
	</insert>
	
</mapper>