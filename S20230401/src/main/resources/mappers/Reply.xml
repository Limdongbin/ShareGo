<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.java501.S20230401.ReplyMapper" >
	<select id="shcountReply" parameterType="Reply" resultType="int">
	<![CDATA[
		SELECT COUNT(*) as rep_cnt
		FROM reply
		WHERE art_id=#{art_id} and brd_id=#{brd_id}
		]]>
	</select>
	
	<select id="shlistReply" parameterType="Reply" resultType="Reply">
	<![CDATA[
		  SELECT reply.*, member.*
			FROM reply
			JOIN member ON reply.mem_id = member.mem_id
			WHERE reply.art_id = #{art_id} AND reply.brd_id = #{brd_id}
	]]>
	</select>
	
</mapper>